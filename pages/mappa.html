<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mappa della Campagna</title>
<link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Cardo&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Cardo', serif;
    display: flex;
    flex-direction: column;
    height: 100vh;
    background: #f6f1e1 url('parchment-bg.jpg') repeat; /* Sfondo pergamena */
    color: #3b2f1c;
  }
  header {
    background: #5c3b1e;
    color: white;
    padding: .6rem 1rem;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 1rem;
    font-family: 'MedievalSharp', cursive;
    border-bottom: 4px solid #d4af37; /* Bordo dorato */
  }
  header a {
    color: #f3e5ab;
    text-decoration: none;
    font-weight: bold;
  }
  header a:hover {
    text-decoration: underline;
    color: #ffd700;
  }

  /* --- PULSANTE MENU (minima aggiunta) --- */
  #menuToggle {
    margin-left: auto; /* spinge il bottone a destra */
    background: linear-gradient(#ffd97a, #d4af37);
    border: 2px solid rgba(0,0,0,0.15);
    color: #3b2f1c;
    padding: .25rem .6rem;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.15);
    display: inline-flex;
    align-items: center;
    gap: .4rem;
  }
  #menuToggle:active { transform: translateY(1px); }

  .container {
    flex: 1;
    display: flex;
    overflow: hidden;
  }

  /* quando la container ha questa classe, nascondiamo l'aside */
  .container.menu-closed aside {
    display: none;
  }

  aside {
    width: 250px;
    background: rgba(60, 40, 20, 0.9);
    color: white;
    padding: 1rem;
    overflow-y: auto;
    border-right: 4px solid #d4af37;
  }
  aside h2 {
    margin-top: 0;
    font-family: 'MedievalSharp', cursive;
    color: #ffd700;
  }
  aside ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  aside li {
    padding: .5rem;
    cursor: pointer;
    border-radius: .3rem;
    transition: background 0.2s;
  }
  aside li:hover {
    background: rgba(255, 215, 0, 0.2);
  }
  main {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
  }
  main h1 {
    font-family: 'MedievalSharp', cursive;
    color: #5c3b1e;
    margin-top: 0;
  }
  .place-image {
    width: 100%;
    max-height: 300px;
    object-fit: cover;
    border: 3px solid #d4af37;
    margin-bottom: 1rem;
    border-radius: 5px;
  }
  .section {
    margin-bottom: 1rem;
    padding: .8rem;
    background: rgba(255, 255, 255, 0.85);
    border-radius: .5rem;
    border: 2px solid #d4af37;
    box-shadow: 0 1px 6px rgba(0,0,0,0.2);
  }
  .section h3 {
    margin-top: 0;
    font-family: 'MedievalSharp', cursive;
    color: #5c3b1e;
  }

  /* --- Mobile --- */
  @media (max-width: 768px) {
    .container {
      flex-direction: column;
    }
    aside {
      width: 100%;
      max-height: 200px;
    }
    /* su mobile il pulsante rimane visibile; portalo più evidente */
    #menuToggle {
      margin-left: 0;
      order: 1;
    }
  }
</style>
</head>
<body>

<header>
  <a href="../index.html">Home</a>
  <a href="personaggi.html">Personaggi</a>
  <a href="lore.html">Lore</a>
  <a href="mappa.html">Mappa</a>

  <!-- pulsante di toggle aggiunto (minima modifica) -->
  <button id="menuToggle" aria-expanded="true" aria-controls="placesList">☰ Luoghi</button>
</header>

<div class="container" id="container">
  <aside>
    <h2>Luoghi</h2>
    <ul id="placesList"></ul>
  </aside>

  <main>
    <div id="placeDetails">
      <h1>Seleziona un luogo</h1>
      <p>Dall’elenco a sinistra (o sopra, su mobile).</p>
    </div>
  </main>
</div>

<script>
  const places = [
    { name: "Vingaldrum", image: "../assets/vingaldrum.png", sections: { 
      "Storia": "Anticamente, Ethelindor ed i suoi compagni giunsero nel Nord, per cercare una nuova terra. Arrivati dinanzi all'Albero Cantante, Ethelindor fu messo alla prova dalla Dea Thalindra. Fronteggiò e sconfisse il Guardiano dell'Albero Cantante. Fu così che Ethelindor divenne campione di Thalindra, e la dea gli donò una gemma verde: attorno ad essa sarebbe sorta la città. Nacque dapprima Velarithan, la Città delle Radici. Lì, gli elfi iniziarono a costruire case, centri, ad ampliare quello che era soltanto un piccolo villaggio.\n\nNacque Vingaldrum nel giorno in cui Ethelindor ampliò i confini del villaggio sui Monti dei Saggi: lì fu costruito il Palazzo di Ethelindor e ufficialmente incoronato il primo re degli elfi.\n\nPochi anni dopo, con l'avvento di Valdenor, scoppiò una guerra tra i due elfi e le due città: Vingaldrum fu quasi interamente distrutta, Ethelindor e i suoi uomini si rifugiarono a Velarithan. A fine guerra, però, Ethelindor riuscì nel contrattacco e Vingaldrum ne emerse vittoriosa.\n\nAd Ethelindor successe al trono la sorella Ethelindra, che guidò con saggezza ed eleganza il suo popolo. Al contrario del fratello, che fu più un condottiero valoroso, Ethelindra fu da sempre  un'abile negoziatrice, che portò Vingaldrum allo splendore.\n\nDopo la morte di Ethelindra, salì al trono Lae'Noriel. In un periodo in cui i Cappucci Grigi iniziavano a mettere i bastoni fra le ruote della città, Lae'Noriel fronteggiò la minaccia diplomatica di Goldbrick: volendo mantenere l'indipendenza, Vingaldrum fu la prima città occupata con la forza da Nuova Fost.",
      
      "Geografia": "Vingaldrum si trova a 2 giorni di viaggio verso sud da Khar Durim e 4 da Goldbrick. E' attraversata da un lungo fiume, che nasce dai Monti Ogalduk e sfocia nel Mare senza Traccia. Si estende sui Monti dei Saggi, due colli uno accanto all'altro.", 
      
      "Organizzazioni e Fazioni": "Vingaldrum è governata dal Lord d'Argento. Monarchia ereditaria, è il Re a scegliere il suo successore al trono. I sovrani sono affiancati da un consigliere (ora Mythalor). Per molto tempo fu importante all'interno di Vingaldrum la fazione dei Cappucci Grigi: elfi che si rifacevano a Tal'Noriel e desideravano l'indipendenza incondizionata della città dalla pesante burocrazia di Nuova Fost. La fazione dei Cappucci Grigi era capitanata da Tal'Noriel e, con la sua morte, è andata a disperdersi.", 

      "Luoghi Importanti": "Il Palazzo di Ethelindor è l'imponente castello che domina Vingaldrum, sede del potere reale. Sale decorate con intarsi che raccontano la fondazione della città; terrazze che guardano i boschi. Centro amministrativo e giudiziario, lì si svolgono udienze pubbliche, consigli di guerra, negoziati diplomatici, cerimonie. La Casa delle Rose è la dimora malinconica e curata dove Ethelindra visse. E' preceduta da un giardino di rose sempre fiorite. Luogo di memoria e rituali familiari, è meta di pellegrinaggi intimi (vedove, giovani reali che cercano consiglio), centro per archiviare lettere e ricordi di corte. La Forgiargento è la grande bottega-forgia di Thalion. Lì, Thalion produce e ripara armi, armature e utensili; punto di incontro per mercanti e avventurieri che commissionano equipaggiamenti. Si dice che Thalion faccia anche lezioni ai giovani elfi di Vingaldrum che sono interessati al suo mestiere. L'Altarion è il complesso sacro dedicato a Thalindra, dea della natura. In passato, vi era la Gemma Verde di Ethelindor; oggi al centro sorge il Kurkhael, frutto della Battaglia Fantasma. Lì, si svolgono riti sacri, cerimonie stagionali, meditazioni curate dalle sacerdotesse; funzioni di guarigione, esorcismi locali e veglie per i caduti. Il Kurkhael è al contempo benedizione e monito: attira pellegrini, studiosi e cultisti. La Biblioteca di Velarithan è un colossale archivio di pergamene, volumi rilegati e tomi magici. Ricca di scaffali a più livelli, sale di lettura. Lì è conservato il sapere, la ricerca accademica, l'istruzione per i giovani elfi. E' anche luogo di incontro per maghi, cartografi e cronisti. Velarithan è la città antica dalla quale nacque Vingaldrum. Insieme di edifici vecchi, nessun punto d'interesse al suo interno. L'Albero Cantante è un antico albero, luogo legato a Thalindra. Il primo albero a svegliarsi del bosco, è meta di pellegrini e degli apprendisti del Canto Sacro; luogo di prove spirituali e riti d'iniziazione. Lì si trova il temibile Guardiano, legato a Thalindra. La Piazza Centrale è il cuore vitale della città: bancarelle, messaggeri e locande. E' il punto di incontro di culture, merci e voci. Lì vi è il commercio quotidiano, mercato delle spezie e degli intagli, annunci pubblici e celebrazioni cittadine. Qui è stato ucciso Tal'Noriel. Al centro della Piazza Centrale, vi è quello che rimane della Pozza d'Argento.",
      
      "Eventi lore": '<a href="lore.html#evento-battaglia-fantasma">Battaglia Fantasma</a>,' '<a href="lore.html#evento-esecuzione-talnoriel">Esecuzione di Tal Noriel</a>'} },

    
    { name: "Goldbrick", image: "../assets/goldbrick.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Khar Durim", image: "../assets/khardurim.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Laboratorio", image: "../assets/laboratorio.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Avamposto della Guardia", image: "../assets/avamposto.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Valdenor", image: "../assets/valdenorposto.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Kurk", image: "../assets/kurk.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Elbrunn", image: "../assets/elbrunn.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Isothar", image: "../assets/isothar.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Monastero di Radamir", image: "../assets/monastero.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Villaggio di Eilistrae", image: "../assets/villaggio.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Crocevia dell'Ishuriel", image: "../assets/crocevia.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Gole di Marm'Ryn", image: "../assets/gole.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Fost", image: "../assets/fost.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Northpearl", image: "../assets/northpearl.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Ethis", image: "../assets/ethis.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Luskan", image: "../assets/luskan.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Baldur's Gate", image: "../assets/baldursgate.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Waterdeep", image: "../assets/waterdeep.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Neverwinter", image: "../assets/neverwinter.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Phandalin", image: "../assets/phandalin.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Menzoberranzan", image: "../assets/menzoberranzan.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Mithral Hall", image: "../assets/mithralhall.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Velkynvelve", image: "../assets/velkynvelve.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Amn", image: "../assets/amn.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Arcipelago di Matra", image: "../assets/arcipelago.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Thay", image: "../assets/thay.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Asintoto dei Mondi", image: "../assets/asintoto.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Kardum'El", image: "../assets/kardumel.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Monti Ogal'duk", image: "../assets/ogalduk.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Calimport", image: "../assets/calimport.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Labirinto", image: "../assets/labirinto.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
    { name: "Aragon", image: "../assets/aragon.png", sections: { "Storia": "", "Geografia": "", "PNG chiave": "", "Eventi lore": "" } },
  
    // Aggiungi altri luoghi qui...
  ];

  const listEl = document.getElementById('placesList');
  const detailsEl = document.getElementById('placeDetails');
  const container = document.getElementById('container');
  const menuToggle = document.getElementById('menuToggle');

  // genera lista
  places.forEach((place, idx) => {
    const li = document.createElement('li');
    li.textContent = place.name;
    li.addEventListener('click', () => showPlace(idx));
    listEl.appendChild(li);
  });

  function showPlace(index) {
    const place = places[index];
    detailsEl.innerHTML = `
      <h1>${place.name}</h1>
      <img src="${place.image}" alt="${place.name}" class="place-image" />
    ` + Object.entries(place.sections).map(([title, content]) =>
        `<div class="section"><h3>${title}</h3><p>${content}</p></div>`
      ).join('');

    // se siamo su schermo piccolo, chiudi automaticamente il menu per mostrare i dettagli a schermo intero
    if (window.innerWidth <= 768) {
      container.classList.add('menu-closed');
      menuToggle.setAttribute('aria-expanded', 'false');
      menuToggle.textContent = '☰ Luoghi';
    }
  }

  // toggle manuale del menu
  menuToggle.addEventListener('click', () => {
    const isClosed = container.classList.toggle('menu-closed');
    // aggiorna attributo aria e testo del bottone
    menuToggle.setAttribute('aria-expanded', isClosed ? 'false' : 'true');
    menuToggle.textContent = isClosed ? '☰ Luoghi' : '✕ Chiudi';
  });
</script>

</body>
</html>








